# Cloud Shell configuration file
# This file defines the Cloud Shell environment for this repository

cloudshell:
  # Open these files in the editor on startup
  open_in_editor:
    - README.md
  
  # Custom startup script that runs when repo is opened
  startup_script: |
    #!/bin/bash
    
    # Make scripts executable
    chmod +x setup.sh init-git.sh
    
    # Display welcome banner
    echo ""
    echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
    echo "  ğŸš€ Cloud Run Deployment Environment"
    echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
    echo ""
    echo "âœ… Repository cloned successfully!"
    echo "âœ… Scripts are now executable"
    echo ""
    
    # Ask user if they want to run setup immediately
    echo "ğŸ¯ Would you like to start the interactive deployment now?"
    echo ""
    echo "  â€¢ Press ENTER to start interactive setup"
    echo "  â€¢ Type 'tutorial' for step-by-step tutorial"
    echo "  â€¢ Type 'manual' for manual deployment"
    echo "  â€¢ Type 'skip' to explore on your own"
    echo ""
    read -p "â†’ Your choice (press ENTER for setup): " choice
    
    case "${choice,,}" in
      "tutorial")
        echo ""
        echo "ğŸ“ Launching interactive tutorial..."
        cloudshell launch-tutorial tutorial.md
        ;;
      "manual")
        echo ""
        echo "ğŸ“š Manual Deployment Instructions:"
        echo ""
        echo "  1. Create terraform.tfvars:"
        echo "     cp example.tfvars terraform.tfvars"
        echo "     nano terraform.tfvars"
        echo ""
        echo "  2. Deploy:"
        echo "     terraform init && terraform apply"
        echo ""
        ;;
      "skip")
        echo ""
        echo "ğŸ“– Quick Reference:"
        echo "  â€¢ Interactive setup: ./setup.sh"
        echo "  â€¢ Tutorial: cloudshell launch-tutorial tutorial.md"
        echo "  â€¢ Manual: cat QUICKSTART.md"
        echo ""
        ;;
      *)
        echo ""
        echo "ğŸš€ Starting interactive deployment..."
        echo ""
        ./setup.sh
        ;;
    esac

